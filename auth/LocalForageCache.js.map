{"version":3,"sources":["../../src/auth/LocalForageCache.js"],"names":["localforage","memoryDriver","setup","configureCache","defineDriver","forageStore","createInstance","driver","INDEXEDDB","LOCALSTORAGE","_driver","name","cache","maxAge","store","exclude","query"],"mappings":";;;;AAAA;AACA,OAAOA,WAAP,MAAwB,aAAxB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,SAASC,KAAT,QAAsB,qBAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,wBAA8BC,cAA9B;AAAA;AAAA;;;4EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEPH,WAAW,CAACI,YAAZ,CAAyBH,YAAzB,CAFO;;AAAA;AAIb;AACMI,YAAAA,WALO,GAKOL,WAAW,CAACM,cAAZ,CAA2B;AAC7C;AACAC,cAAAA,MAAM,EAAE,CACNP,WAAW,CAACQ,SADN,EAENR,WAAW,CAACS,YAFN,EAGNR,YAAY,CAACS,OAHP,CAFqC;AAO7CC,cAAAA,IAAI,EAAE;AAPuC,aAA3B,CALP,EAeb;;AAfa,6CAgBNT,KAAK,CAAC;AACXU,cAAAA,KAAK,EAAE;AACLC,gBAAAA,MAAM,EAAE,IAAI,EAAJ,GAAS,IADZ;AAELC,gBAAAA,KAAK,EAAET,WAFF;AAGLU,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,KAAK,EAAE;AAAT;AAHJ;AADI,aAAD,CAhBC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport localforage from 'localforage';\nimport memoryDriver from 'localforage-memoryStorageDriver';\nimport { setup } from 'axios-cache-adapter';\n\n/**\n * Async function to configure localforage and setup the cache\n *\n * @returns {Promise} A promise that, when resolved, returns an axios instance configured to\n * use localforage as a cache.\n */\nexport default async function configureCache() {\n  // Register the imported `memoryDriver` to `localforage`\n  await localforage.defineDriver(memoryDriver);\n\n  // Create `localforage` instance\n  const forageStore = localforage.createInstance({\n    // List of drivers used\n    driver: [\n      localforage.INDEXEDDB,\n      localforage.LOCALSTORAGE,\n      memoryDriver._driver,\n    ],\n    name: 'edx-cache',\n  });\n\n  // Set up the cache with a default maxAge of 5 minutes and using localforage as the storage source\n  return setup({\n    cache: {\n      maxAge: 5 * 60 * 1000,\n      store: forageStore,\n      exclude: { query: false },\n    },\n  });\n}\n"],"file":"LocalForageCache.js"}