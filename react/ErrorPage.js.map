{"version":3,"file":"ErrorPage.js","names":["React","useState","PropTypes","Button","Container","Row","Col","useAppEvent","FormattedMessage","IntlProvider","getMessages","getLocale","LOCALE_CHANGED","ErrorPage","_ref","message","locale","setLocale","reload","global","location","createElement","messages","fluid","className","id","defaultMessage","description","role","onClick","propTypes","string","defaultProps"],"sources":["../../src/react/ErrorPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Container, Row, Col,\n} from '@openedx/paragon';\n\nimport { useAppEvent } from './hooks';\nimport {\n  FormattedMessage,\n  IntlProvider,\n  getMessages,\n  getLocale,\n  LOCALE_CHANGED,\n} from '../i18n';\n\n/**\n * An error page that displays a generic message for unexpected errors.  Also contains a \"Try\n * Again\" button to refresh the page.\n *\n * @memberof module:React\n * @extends {Component}\n */\nfunction ErrorPage({\n  message,\n}) {\n  const [locale, setLocale] = useState(getLocale());\n\n  useAppEvent(LOCALE_CHANGED, () => {\n    setLocale(getLocale());\n  });\n\n  /* istanbul ignore next */\n  const reload = () => {\n    global.location.reload();\n  };\n\n  return (\n    <IntlProvider locale={locale} messages={getMessages()}>\n      <Container fluid className=\"py-5 justify-content-center align-items-start text-center\" data-testid=\"error-page\">\n        <Row>\n          <Col>\n            <p className=\"text-muted\">\n              <FormattedMessage\n                id=\"unexpected.error.message.text\"\n                defaultMessage=\"An unexpected error occurred. Please click the button below to refresh the page.\"\n                description=\"error message when an unexpected error occurs\"\n              />\n            </p>\n            {message && (\n              <div role=\"alert\" className=\"my-4\">\n                <p>{message}</p>\n              </div>\n            )}\n            <Button onClick={reload}>\n              <FormattedMessage\n                id=\"unexpected.error.button.text\"\n                defaultMessage=\"Try again\"\n                description=\"text for button that tries to reload the app by refreshing the page\"\n              />\n            </Button>\n          </Col>\n        </Row>\n      </Container>\n    </IntlProvider>\n  );\n}\n\nErrorPage.propTypes = {\n  message: PropTypes.string,\n};\n\nErrorPage.defaultProps = {\n  message: null,\n};\n\nexport default ErrorPage;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,SAAS,MAAM,YAAY;AAClC,SACEC,MAAM,EAAEC,SAAS,EAAEC,GAAG,EAAEC,GAAG,QACtB,kBAAkB;AAEzB,SAASC,WAAW,QAAQ,SAAS;AACrC,SACEC,gBAAgB,EAChBC,YAAY,EACZC,WAAW,EACXC,SAAS,EACTC,cAAc,QACT,SAAS;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,SAASA,CAAAC,IAAA,EAEf;EAAA,IAFgB;IACjBC;EACF,CAAC,GAAAD,IAAA;EACC,MAAM,CAACE,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAACU,SAAS,CAAC,CAAC,CAAC;EAEjDJ,WAAW,CAACK,cAAc,EAAE,MAAM;IAChCK,SAAS,CAACN,SAAS,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC;;EAEF;EACA,MAAMO,MAAM,GAAGA,CAAA,KAAM;IACnBC,MAAM,CAACC,QAAQ,CAACF,MAAM,CAAC,CAAC;EAC1B,CAAC;EAED,oBACElB,KAAA,CAAAqB,aAAA,CAACZ,YAAY;IAACO,MAAM,EAAEA,MAAO;IAACM,QAAQ,EAAEZ,WAAW,CAAC;EAAE,gBACpDV,KAAA,CAAAqB,aAAA,CAACjB,SAAS;IAACmB,KAAK;IAACC,SAAS,EAAC,2DAA2D;IAAC,eAAY;EAAY,gBAC7GxB,KAAA,CAAAqB,aAAA,CAAChB,GAAG,qBACFL,KAAA,CAAAqB,aAAA,CAACf,GAAG,qBACFN,KAAA,CAAAqB,aAAA;IAAGG,SAAS,EAAC;EAAY,gBACvBxB,KAAA,CAAAqB,aAAA,CAACb,gBAAgB;IACfiB,EAAE,EAAC,+BAA+B;IAClCC,cAAc,EAAC,kFAAkF;IACjGC,WAAW,EAAC;EAA+C,CAC5D,CACA,CAAC,EACHZ,OAAO,iBACNf,KAAA,CAAAqB,aAAA;IAAKO,IAAI,EAAC,OAAO;IAACJ,SAAS,EAAC;EAAM,gBAChCxB,KAAA,CAAAqB,aAAA,YAAIN,OAAW,CACZ,CACN,eACDf,KAAA,CAAAqB,aAAA,CAAClB,MAAM;IAAC0B,OAAO,EAAEX;EAAO,gBACtBlB,KAAA,CAAAqB,aAAA,CAACb,gBAAgB;IACfiB,EAAE,EAAC,8BAA8B;IACjCC,cAAc,EAAC,WAAW;IAC1BC,WAAW,EAAC;EAAqE,CAClF,CACK,CACL,CACF,CACI,CACC,CAAC;AAEnB;AAEAd,SAAS,CAACiB,SAAS,GAAG;EACpBf,OAAO,EAAEb,SAAS,CAAC6B;AACrB,CAAC;AAEDlB,SAAS,CAACmB,YAAY,GAAG;EACvBjB,OAAO,EAAE;AACX,CAAC;AAED,eAAeF,SAAS","ignoreList":[]}