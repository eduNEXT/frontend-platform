{"version":3,"file":"useParagonThemeVariants.js","names":["useEffect","useState","logError","logInfo","fallbackThemeUrl","removeExistingLinks","useParagonThemeVariants","_ref","themeVariants","currentThemeVariant","onComplete","onDarkModeSystemPreferenceChange","_useState","_useState2","_slicedToArray","isParagonThemeVariantComplete","setIsParagonThemeVariantComplete","_useState3","_useState4","isBrandThemeVariantComplete","setIsBrandThemeVariantComplete","_window$matchMedia","_window","changeColorScheme","colorSchemeQuery","matches","window","matchMedia","call","addEventListener","removeEventListener","htmlDataThemeVariantAttr","document","querySelector","setAttribute","removeAttribute","generateStylesheetRelAttr","themeVariant","Object","entries","forEach","_ref2","_ref3","value","urls","getParagonThemeVariantLink","head","concat","existingThemeVariantLink","existingThemeVariantBrandLink","brandOverride","getExistingThemeVariantLinks","isBrandOverride","themeVariantLinkSelector","querySelectorAll","createThemeVariantLink","url","_ref4","arguments","length","undefined","_ref4$isFallbackTheme","isFallbackThemeUrl","_ref4$isBrandOverride","themeVariantLink","createElement","href","rel","dataset","brandThemeVariant","paragonThemeVariant","onload","onerror","_PARAGON_THEME$parago","_PARAGON_THEME","paragonThemeAccessor","otherExistingLinks","variants","PARAGON_THEME","themeUrls","themeVariantFallbackUrl","fileName","foundParagonThemeVariantLink","insertAdjacentElement","insertBrandThemeVariantLink","updatedStylesheetRel","brandThemeVariantLink","paragonThemeVariantLink"],"sources":["../../../../src/react/hooks/paragon/useParagonThemeVariants.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { logError, logInfo } from '../../../logging';\n\nimport { fallbackThemeUrl, removeExistingLinks } from './utils';\n\n/**\n * A custom React hook that manages the loading of theme variant CSS files dynamically.\n * Adds/updates a `<link>` element in the HTML document to load each theme variant's CSS, setting the\n * non-current theme variants as \"alternate\" stylesheets. That is, the browser will download\n * the CSS for the non-current theme variants, but at a lower priority than the current one.\n * This ensures that if the theme variant is changed at runtime, the new theme's CSS will already be loaded.\n *\n * The hook also listens for changes in the system's preference and triggers the provided callback accordingly.\n *\n * @memberof module:React\n * @param {object} args Configuration object for theme variants and related settings.\n * @param {object} [args.themeVariants] An object containing the URLs for each supported theme variant,\n * e.g.: `{ light: { url: 'https://path/to/light.css' } }`.\n * @param {string} [args.currentThemeVariant] The currently applied theme variant, e.g.: `light`.\n * @param {function} args.onComplete A callback function called when the theme variant(s) CSS is (are) complete.\n * @param {function} [args.onDarkModeSystemPreferenceChange] A callback function that is triggered\n * when the system's preference changes.\n */\nconst useParagonThemeVariants = ({\n  themeVariants,\n  currentThemeVariant,\n  onComplete,\n  onDarkModeSystemPreferenceChange,\n}) => {\n  const [isParagonThemeVariantComplete, setIsParagonThemeVariantComplete] = useState(false);\n  const [isBrandThemeVariantComplete, setIsBrandThemeVariantComplete] = useState(false);\n\n  // Effect hook that listens for changes in the system's dark mode preference.\n  useEffect(() => {\n    const changeColorScheme = (colorSchemeQuery) => {\n      onDarkModeSystemPreferenceChange(colorSchemeQuery.matches);\n    };\n    const colorSchemeQuery = window.matchMedia?.('(prefers-color-scheme: dark)');\n    if (colorSchemeQuery) {\n      colorSchemeQuery.addEventListener('change', changeColorScheme);\n    }\n    return () => {\n      if (colorSchemeQuery) {\n        colorSchemeQuery.removeEventListener('change', changeColorScheme);\n      }\n    };\n  }, [onDarkModeSystemPreferenceChange]);\n\n  // Effect hook to set the theme current variant on the HTML element.\n  useEffect(() => {\n    if (currentThemeVariant && themeVariants?.[currentThemeVariant]) {\n      const htmlDataThemeVariantAttr = 'data-paragon-theme-variant';\n      document.querySelector('html').setAttribute(htmlDataThemeVariantAttr, currentThemeVariant);\n      return () => {\n        document.querySelector('html').removeAttribute(htmlDataThemeVariantAttr);\n      };\n    }\n    return () => {}; // Cleanup: no action needed when theme variant is not set\n  }, [themeVariants, currentThemeVariant]);\n\n  // Effect hook that calls `onComplete` when both paragon and brand theme variants are completed the processing.\n  useEffect(() => {\n    if (isParagonThemeVariantComplete && isBrandThemeVariantComplete) {\n      onComplete();\n    }\n  }, [isParagonThemeVariantComplete, isBrandThemeVariantComplete, onComplete]);\n\n  useEffect(() => {\n    if (!themeVariants) {\n      return;\n    }\n\n    /**\n     * Determines the value for the `rel` attribute for a given theme variant based\n     * on if its the currently applied variant.\n     *\n     * @param {string} themeVariant The key representing a theme variant (e.g., `light`, `dark`).\n     * @returns {string} The value for the `rel` attribute, either 'stylesheet' or 'alternate stylesheet'.\n     */\n    const generateStylesheetRelAttr = (themeVariant) => (currentThemeVariant === themeVariant ? 'stylesheet' : 'alternate stylesheet');\n\n    // Iterate over each theme variant URL and inject it into the HTML document, if it doesn't already exist.\n    Object.entries(themeVariants).forEach(([themeVariant, value]) => {\n      // If there is no config for the theme variant URL, set the theme variant to complete and continue.\n      if (!value.urls) {\n        setIsParagonThemeVariantComplete(true);\n        setIsBrandThemeVariantComplete(true);\n        return;\n      }\n      const getParagonThemeVariantLink = () => document.head.querySelector(`link[data-paragon-theme-variant='${themeVariant}']`);\n      const existingThemeVariantLink = document.head.querySelector(`link[href='${value.urls.default}']`);\n      const existingThemeVariantBrandLink = document.head.querySelector(`link[href='${value.urls.brandOverride}']`);\n\n      const getExistingThemeVariantLinks = (isBrandOverride) => {\n        const themeVariantLinkSelector = `link[data-${isBrandOverride ? 'brand' : 'paragon'}-theme-variant='${themeVariant}']`;\n        return document.head.querySelectorAll(themeVariantLinkSelector);\n      };\n\n      const createThemeVariantLink = (\n        url,\n        {\n          isFallbackThemeUrl = false,\n          isBrandOverride = false,\n        } = {},\n      ) => {\n        let themeVariantLink = document.createElement('link');\n        themeVariantLink.href = url;\n        themeVariantLink.rel = generateStylesheetRelAttr(themeVariant);\n        if (isBrandOverride) {\n          themeVariantLink.dataset.brandThemeVariant = themeVariant;\n        } else {\n          themeVariantLink.dataset.paragonThemeVariant = themeVariant;\n        }\n\n        themeVariantLink.onload = () => {\n          if (themeVariant === currentThemeVariant) {\n            if (isBrandOverride) {\n              setIsBrandThemeVariantComplete(true);\n            } else {\n              setIsParagonThemeVariantComplete(true);\n            }\n          }\n        };\n\n        themeVariantLink.onerror = () => {\n          const paragonThemeAccessor = isBrandOverride ? 'brand' : 'paragon';\n          if (isFallbackThemeUrl) {\n            logError(`Could not load theme variant (${paragonThemeAccessor} - ${themeVariant}) CSS from fallback URL. Aborting.`);\n            if (isBrandOverride) {\n              setIsBrandThemeVariantComplete(true);\n            } else {\n              setIsParagonThemeVariantComplete(true);\n            }\n            const otherExistingLinks = getExistingThemeVariantLinks(isBrandOverride);\n            removeExistingLinks(otherExistingLinks);\n            return;\n          }\n          const variants = PARAGON_THEME?.[paragonThemeAccessor]?.themeUrls?.variants ?? {};\n          if (variants[themeVariant]) {\n            const themeVariantFallbackUrl = fallbackThemeUrl(variants[themeVariant].fileName);\n            logInfo(`Failed to load theme variant (${themeVariant}) CSS from ${isBrandOverride ? value.urls.brandOverride : value.urls.default}. Falling back to locally installed theme variant: ${themeVariantFallbackUrl}`);\n            themeVariantLink = createThemeVariantLink(themeVariantFallbackUrl, {\n              isFallbackThemeUrl: true,\n              isBrandOverride,\n            });\n            const otherExistingLinks = getExistingThemeVariantLinks(isBrandOverride);\n            removeExistingLinks(otherExistingLinks);\n            const foundParagonThemeVariantLink = getParagonThemeVariantLink();\n            if (foundParagonThemeVariantLink) {\n              foundParagonThemeVariantLink.insertAdjacentElement(\n                'afterend',\n                themeVariantLink,\n              );\n            } else {\n              document.head.insertAdjacentElement(\n                'afterbegin',\n                themeVariantLink,\n              );\n            }\n          } else {\n            logError(`Failed to load theme variant (${themeVariant}) CSS from ${url} and locally installed fallback URL is not available. Aborting.`);\n            if (isBrandOverride) {\n              setIsBrandThemeVariantComplete(true);\n            } else {\n              setIsParagonThemeVariantComplete(true);\n            }\n          }\n        };\n        return themeVariantLink;\n      };\n\n      const insertBrandThemeVariantLink = () => {\n        const updatedStylesheetRel = generateStylesheetRelAttr(themeVariant);\n\n        if (existingThemeVariantBrandLink) {\n          existingThemeVariantBrandLink.rel = updatedStylesheetRel;\n          existingThemeVariantBrandLink.removeAttribute('as');\n          existingThemeVariantBrandLink.dataset.brandThemeVariant = themeVariant;\n          return;\n        }\n\n        if (value.urls.brandOverride) {\n          const brandThemeVariantLink = createThemeVariantLink(value.urls.brandOverride, { isBrandOverride: true });\n          const foundParagonThemeVariantLink = getParagonThemeVariantLink();\n          if (foundParagonThemeVariantLink) {\n            foundParagonThemeVariantLink.insertAdjacentElement(\n              'afterend',\n              brandThemeVariantLink,\n            );\n          } else {\n            document.head.insertAdjacentElement(\n              'afterbegin',\n              brandThemeVariantLink,\n            );\n          }\n        }\n        setIsBrandThemeVariantComplete(true);\n      };\n\n      if (!existingThemeVariantLink) {\n        const paragonThemeVariantLink = createThemeVariantLink(value.urls.default);\n        document.head.insertAdjacentElement(\n          'afterbegin',\n          paragonThemeVariantLink,\n        );\n        insertBrandThemeVariantLink(existingThemeVariantBrandLink);\n      } else {\n        const updatedStylesheetRel = generateStylesheetRelAttr(themeVariant);\n        existingThemeVariantLink.rel = updatedStylesheetRel;\n        existingThemeVariantLink.removeAttribute('as');\n        existingThemeVariantLink.dataset.paragonThemeVariant = themeVariant;\n        insertBrandThemeVariantLink(existingThemeVariantBrandLink);\n      }\n      setIsParagonThemeVariantComplete(true);\n      setIsBrandThemeVariantComplete(true);\n    });\n  }, [themeVariants, currentThemeVariant, onComplete]);\n};\n\nexport default useParagonThemeVariants;\n"],"mappings":"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","ignoreList":[]}