{"version":3,"file":"useTrackColorSchemeChoice.js","names":["useEffect","sendTrackEvent","useTrackColorSchemeChoice","trackColorSchemeChoice","_ref","matches","preferredColorScheme","colorSchemeQuery","window","matchMedia","addEventListener","removeEventListener"],"sources":["../../../../src/react/hooks/paragon/useTrackColorSchemeChoice.js"],"sourcesContent":["import { useEffect } from 'react';\n\nimport { sendTrackEvent } from '../../../analytics';\n\n/**\n * A React hook that tracks user's preferred color scheme (light or dark) and sends respective\n * event to the tracking service.\n *\n * @memberof module:React\n */\nconst useTrackColorSchemeChoice = () => {\n  useEffect(() => {\n    const trackColorSchemeChoice = ({ matches }) => {\n      const preferredColorScheme = matches ? 'dark' : 'light';\n      sendTrackEvent('openedx.ui.frontend-platform.prefers-color-scheme.selected', { preferredColorScheme });\n    };\n    const colorSchemeQuery = window.matchMedia?.('(prefers-color-scheme: dark)');\n    if (colorSchemeQuery) {\n      // send user's initial choice\n      trackColorSchemeChoice(colorSchemeQuery);\n      colorSchemeQuery.addEventListener('change', trackColorSchemeChoice);\n    }\n    return () => {\n      if (colorSchemeQuery) {\n        colorSchemeQuery.removeEventListener('change', trackColorSchemeChoice);\n      }\n    };\n  }, []);\n};\n\nexport default useTrackColorSchemeChoice;\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AAEjC,SAASC,cAAc,QAAQ,oBAAoB;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,yBAAyB,GAAGA,CAAA,KAAM;EACtCF,SAAS,CAAC,MAAM;IACd,MAAMG,sBAAsB,GAAGC,IAAA,IAAiB;MAAA,IAAhB;QAAEC;MAAQ,CAAC,GAAAD,IAAA;MACzC,MAAME,oBAAoB,GAAGD,OAAO,GAAG,MAAM,GAAG,OAAO;MACvDJ,cAAc,CAAC,4DAA4D,EAAE;QAAEK;MAAqB,CAAC,CAAC;IACxG,CAAC;IACD,MAAMC,gBAAgB,GAAGC,MAAM,CAACC,UAAU,GAAG,8BAA8B,CAAC;IAC5E,IAAIF,gBAAgB,EAAE;MACpB;MACAJ,sBAAsB,CAACI,gBAAgB,CAAC;MACxCA,gBAAgB,CAACG,gBAAgB,CAAC,QAAQ,EAAEP,sBAAsB,CAAC;IACrE;IACA,OAAO,MAAM;MACX,IAAII,gBAAgB,EAAE;QACpBA,gBAAgB,CAACI,mBAAmB,CAAC,QAAQ,EAAER,sBAAsB,CAAC;MACxE;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAED,eAAeD,yBAAyB","ignoreList":[]}