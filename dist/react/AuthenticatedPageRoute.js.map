{"version":3,"file":"AuthenticatedPageRoute.js","names":["React","useContext","PropTypes","AppContext","PageWrap","getLoginRedirectUrl","AuthenticatedPageRoute","_ref","_ref$redirectUrl","redirectUrl","children","_useContext","authenticatedUser","destination","global","location","href","assign","createElement","propTypes","string","node","isRequired"],"sources":["../../src/react/AuthenticatedPageRoute.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport AppContext from './AppContext';\nimport PageWrap from './PageWrap';\nimport { getLoginRedirectUrl } from '../auth';\n\n/**\n * A react-router route that redirects to the login page when the route becomes active and the user\n * is not authenticated.  If the application has been initialized with `requireAuthenticatedUser`\n * false, an authenticatedPageRoute can be used to protect a subset of the application's routes,\n * rather than the entire application.\n *\n * It can optionally accept an override URL to redirect to instead of the login page.\n *\n * Like a `PageWrap`, also calls `sendPageEvent` when the route becomes active.\n *\n * @see PageWrap\n * @see {@link module:frontend-platform/analytics~sendPageEvent}\n * @memberof module:React\n * @param {Object} props\n * @param {string} [props.redirectUrl] The URL anonymous users should be redirected to, rather than\n * viewing the route's contents.\n */\nexport default function AuthenticatedPageRoute({ redirectUrl = null, children }) {\n  const { authenticatedUser } = useContext(AppContext);\n  if (authenticatedUser === null) {\n    const destination = redirectUrl || getLoginRedirectUrl(global.location.href);\n    global.location.assign(destination);\n\n    return null;\n  }\n\n  return (\n    <PageWrap>\n      {children}\n    </PageWrap>\n  );\n}\n\nAuthenticatedPageRoute.propTypes = {\n  redirectUrl: PropTypes.string,\n  children: PropTypes.node.isRequired,\n};\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,OAAOC,SAAS,MAAM,YAAY;AAElC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,QAAQ,MAAM,YAAY;AACjC,SAASC,mBAAmB,QAAQ,SAAS;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,sBAAsBA,CAAAC,IAAA,EAAmC;EAAA,IAAAC,gBAAA,GAAAD,IAAA,CAAhCE,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,IAAI,GAAAA,gBAAA;IAAEE,QAAQ,GAAAH,IAAA,CAARG,QAAQ;EAC3E,IAAAC,WAAA,GAA8BV,UAAU,CAACE,UAAU,CAAC;IAA5CS,iBAAiB,GAAAD,WAAA,CAAjBC,iBAAiB;EACzB,IAAIA,iBAAiB,KAAK,IAAI,EAAE;IAC9B,IAAMC,WAAW,GAAGJ,WAAW,IAAIJ,mBAAmB,CAACS,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;IAC5EF,MAAM,CAACC,QAAQ,CAACE,MAAM,CAACJ,WAAW,CAAC;IAEnC,OAAO,IAAI;EACb;EAEA,oBACEb,KAAA,CAAAkB,aAAA,CAACd,QAAQ,QACNM,QACO,CAAC;AAEf;AAEAJ,sBAAsB,CAACa,SAAS,GAAG;EACjCV,WAAW,EAAEP,SAAS,CAACkB,MAAM;EAC7BV,QAAQ,EAAER,SAAS,CAACmB,IAAI,CAACC;AAC3B,CAAC","ignoreList":[]}